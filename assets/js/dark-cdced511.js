const e="aria-selected";function t(t="",o){var n;const r=t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");if(document.cookie=`theme=${t};Secure;sameSite=strict;path=/;max-age=${t?31536e3:-1}`,document.body.id=`${r}`,o){o.querySelector(`button[${e}]`).removeAttribute(e),null==(n=o.querySelector(`button[value${""==t?"":"="}${t}]`))||n.setAttribute(e,"");const c=o.querySelector(".theme use");c.href.baseVal=c.href.baseVal.replace(/#.+$/,`#theme-${r}`)}}document.addEventListener("DOMContentLoaded",(function(){var o;const n=(null==(o=document.cookie.split("; ").find((e=>e.startsWith("theme="))))?void 0:o.split("=")[1])||"",r=document.querySelector(".theme-selector");if(t(n,r),!r)return;const c=r.querySelector(".theme-selector > button"),i=document.querySelector(".theme-selector dialog"),s=function(e){c.contains(e.target)||i.close()},d=e=>{"Escape"===e.key&&i.close()};i.addEventListener("close",(()=>{window.removeEventListener("click",s),window.removeEventListener("keydown",d)})),c.addEventListener("click",(()=>{var t;i.open?i.close():(i.show(),null==(t=r.querySelector(`button[${e}]`))||t.focus(),window.addEventListener("click",s),window.addEventListener("keydown",d))})),t(n,r),r.querySelector("form").addEventListener("click",(e=>{t(e.target.value,r),i.close()})),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(()=>t("",r)))}));
