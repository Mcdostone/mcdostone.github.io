const e="aria-pressed";function t(t="",o){var r;const n=t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");if(document.body.id=`${n}`,window.localStorage.setItem("theme",n),o){o.querySelector(`button[${e}]`).removeAttribute(e),null==(r=o.querySelector(`button[value${""==t?"":"="}${t}]`))||r.setAttribute(e,"true");const c=o.querySelector(".theme use");c.href.baseVal=c.href.baseVal.replace(/#.+$/,`#theme-${n}`)}}document.addEventListener("DOMContentLoaded",(function(){const o=window.localStorage.getItem("theme")||"",r=document.querySelector(".theme-selector");if(t(o,r),!r)return;const n=r.querySelector(".theme-selector > button"),c=document.querySelector(".theme-selector dialog"),d=function(e){n.contains(e.target)||c.close()},s=e=>{"Escape"===e.key&&c.close()};c.addEventListener("close",(()=>{window.removeEventListener("click",d),window.removeEventListener("keydown",s)})),n.addEventListener("click",(()=>{var t;c.open?c.close():(c.show(),null==(t=r.querySelector(`button[${e}]`))||t.focus(),window.addEventListener("click",d),window.addEventListener("keydown",s))})),t(o,r),r.querySelector("form").addEventListener("click",(e=>{t(e.target.value,r),c.close()})),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(()=>t("",r)))}));
