const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["search-Bq3tQBEK.css"])))=>i.map(i=>d[i]);
const e={},t=["You're typing random shit, aren't you?","I can guess your cat is doing shit on your keyboard!","If you keep typing random shit, you could potentially mine crypto"],n=class e{constructor(e,t){this.searchDialog=t,this.input=this.searchDialog.querySelector("input"),this.NoResultsContainer=this.searchDialog.querySelector(".no-results-container"),this.data=e,this.iconsUrl=this.searchDialog.querySelector("label use").getAttribute("href").split("#")[0],this.template=document.createElement("template"),this.template.innerHTML='<li><a><svg><use href="/assets/images/icons.svg" /></svg><span class="title"></span><span class="description"></a></li>',this.results=this.searchDialog.querySelector(".results"),this.input.addEventListener("input",(e=>{const t=e.target.value.toLowerCase();this.results.innerHTML="",this.showResults(t)}))}async refreshIndex(t){this.data=await fetch(t).then((e=>e.json())),localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))}async load(t){const n=localStorage.getItem(e.LOCAL_STORAGE_KEY);n?(this.data=JSON.parse(n),requestIdleCallback((async()=>await this.refreshIndex(t)))):await this.refreshIndex(t)}search(e){const t=new RegExp(`${e}`,"gi");return this.data.filter((e=>t.test(e.title)||t.test(e.description)||t.test(e.text)))}isExternal(e){try{if(new URL(e).origin!==location.origin)return!0}catch{}return!1}showResults(e){if(e.length<=2)return void this.NoResultsContainer.classList.add("hidden");e=e.replaceAll(/[èéê]/gm,"e").replaceAll(/[àâ]/gm,"a");const n=this.search(e);for(const t of n){const e=this.template.content.cloneNode(!0),n=e.querySelector("a");n.href=t.url,this.isExternal(n.href)&&(n.target="_blank",n.rel="noopener noreferrer"),e.querySelector("use").setAttribute("href",`${this.iconsUrl}#${t.type}`),e.querySelector(".title").innerHTML=t.title,e.querySelector(".description").innerHTML=t.description,this.results.append(e),this.NoResultsContainer.classList.add("hidden")}0==n.length&&(e.length>15?this.NoResultsContainer.querySelector("span").innerHTML.startsWith("No result found")&&(this.NoResultsContainer.querySelector("span").innerHTML=t[Math.floor(Math.random()*t.length)]):this.NoResultsContainer.querySelector("span").innerHTML=`No result found for '${e}'`,this.NoResultsContainer.classList.remove("hidden"))}};n.LOCAL_STORAGE_KEY="search";let s,r=n;async function i(t,n){return void 0===t&&(await function(t,n){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),r=(null==t?void 0:t.nonce)||(null==t?void 0:t.getAttribute("nonce"));s=Promise.allSettled(n.map((t=>{if((t="/"+t)in e)return;e[t]=!0;const n=t.endsWith(".css"),s=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${s}`))return;const i=document.createElement("link");return i.rel=n?"stylesheet":"modulepreload",n||(i.as="script"),i.crossOrigin="",i.href=t,r&&i.setAttribute("nonce",r),document.head.appendChild(i),n?new Promise(((e,n)=>{i.addEventListener("load",e),i.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${t}`))))})):void 0})))}function r(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return s.then((e=>{for(const t of e||[])"rejected"===t.status&&r(t.reason);return Promise.resolve({}).catch(r)}))}(0,__vite__mapDeps([0])),t=new r([],n),await t.load(n.dataset.endpoint)),t}const o=document.querySelector("#search-dialog");o.addEventListener("click",(e=>{if(o.open){const t=e.target,n=t.getBoundingClientRect();!1==(n.top<=e.clientY&&e.clientY<=n.top+n.height&&n.left<=e.clientX&&e.clientX<=n.left+n.width)&&t.close()}})),document.addEventListener("keydown",(async function(e){(e.ctrlKey&&"k"===e.key||e.metaKey&&"k"===e.key)&&(e.preventDefault(),s=await i(s,o),o.open?o.close():o.showModal())})),document.querySelector("#search-button").addEventListener("click",(async function(){s=await i(s,o),o.open?o.close():o.showModal()})),window.addEventListener("visibilitychange",(()=>{o.close()}));
