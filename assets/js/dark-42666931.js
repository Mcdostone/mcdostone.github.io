const e="aria-pressed";function t(t="",o){var r;const n=t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");if(document.cookie=`theme=${t};Secure;sameSite=strict;path=/;max-age=${t?31536e3:-1}`,document.body.id=`${n}`,o){o.querySelector(`button[${e}]`).removeAttribute(e),null==(r=o.querySelector(`button[value${""==t?"":"="}${t}]`))||r.setAttribute(e,"true");const c=o.querySelector(".theme use");c.href.baseVal=c.href.baseVal.replace(/#.+$/,`#theme-${n}`)}}document.addEventListener("DOMContentLoaded",(function(){var o;const r=(null==(o=document.cookie.split("; ").find((e=>e.startsWith("theme="))))?void 0:o.split("=")[1])||"",n=document.querySelector(".theme-selector");if(t(r,n),!n)return;const c=n.querySelector(".theme-selector > button"),s=document.querySelector(".theme-selector dialog"),i=function(e){c.contains(e.target)||s.close()},d=e=>{"Escape"===e.key&&s.close()};s.addEventListener("close",(()=>{window.removeEventListener("click",i),window.removeEventListener("keydown",d)})),c.addEventListener("click",(()=>{var t;s.open?s.close():(s.show(),null==(t=n.querySelector(`button[${e}]`))||t.focus(),window.addEventListener("click",i),window.addEventListener("keydown",d))})),t(r,n),n.querySelector("form").addEventListener("click",(e=>{t(e.target.value,n),s.close()})),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(()=>t("",n)))}));
