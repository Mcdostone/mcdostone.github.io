function e(e,t=""){var o;e.querySelector("button[aria-selected]").removeAttribute("aria-selected"),null==(o=e.querySelector(`button[value${""==t?"":"="}${t}]`))||o.setAttribute("aria-selected","");const r=t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");document.cookie=`theme=${t};Secure;sameSite=strict;path=/;max-age=${t?31536e3:-1}`,document.body.id=`${r}`;const c=e.querySelector(".theme use");c.href.baseVal=c.href.baseVal.replace(/#.+$/,`#theme-${r}`)}document.addEventListener("DOMContentLoaded",(function(){var t;const o=document.querySelector(".theme-selector"),r=o.querySelector(".theme-selector > button"),c=document.querySelector(".theme-selector dialog"),n=(null==(t=document.cookie.split("; ").find((e=>e.startsWith("theme="))))?void 0:t.split("=")[1])||"",a=function(e){r.contains(e.target)||c.close()},d=e=>{"Escape"===e.key&&c.close()};c.addEventListener("close",(()=>{window.removeEventListener("click",a),window.removeEventListener("keydown",d)})),r.addEventListener("click",(()=>{var e;c.open?c.close():(c.show(),null==(e=o.querySelector("button[aria-selected]"))||e.focus(),window.addEventListener("click",a),window.addEventListener("keydown",d))})),e(o,n),o.querySelector("form").addEventListener("click",(t=>{e(o,t.target.value),c.close()})),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(()=>e(o,"")))}));
