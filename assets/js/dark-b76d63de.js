const e="aria-selected";function t(t,o=""){var n;t.querySelector(`button[${e}]`).removeAttribute(e),null==(n=t.querySelector(`button[value${""==o?"":"="}${o}]`))||n.setAttribute(e,"");const r=o||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");document.cookie=`theme=${o};Secure;sameSite=strict;path=/;max-age=${o?31536e3:-1}`,document.body.id=`${r}`;const c=t.querySelector(".theme use");c.href.baseVal=c.href.baseVal.replace(/#.+$/,`#theme-${r}`)}document.addEventListener("DOMContentLoaded",(function(){var o;const n=document.querySelector(".theme-selector"),r=n.querySelector(".theme-selector > button"),c=document.querySelector(".theme-selector dialog"),d=(null==(o=document.cookie.split("; ").find((e=>e.startsWith("theme="))))?void 0:o.split("=")[1])||"",s=function(e){r.contains(e.target)||c.close()},i=e=>{"Escape"===e.key&&c.close()};c.addEventListener("close",(()=>{window.removeEventListener("click",s),window.removeEventListener("keydown",i)})),r.addEventListener("click",(()=>{var t;c.open?c.close():(c.show(),null==(t=n.querySelector(`button[${e}]`))||t.focus(),window.addEventListener("click",s),window.addEventListener("keydown",i))})),t(n,d),n.querySelector("form").addEventListener("click",(e=>{t(n,e.target.value),c.close()})),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(()=>t(n,"")))}));
