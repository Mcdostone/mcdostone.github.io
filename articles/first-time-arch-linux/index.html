<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta content="width=device-width,initial-scale=1" name="viewport"><title>My Arch Linux install | Yann Prono</title><script src="/assets/js/dark-42666931.js" type="module"></script><script src="/assets/js/photoswipe-de3c7b32.js" type="module"></script><link href="/assets/css/photoswipe-8b15442f.css" rel="stylesheet"><link href="/assets/css/style-a4e66828.css" rel="stylesheet"><link href="/articles/first-time-arch-linux/assets/style-84e3f818.css" rel="stylesheet"><meta content="Yann Prono" property="og:site_name"><meta content="en-us" property="og:locale"><meta content="article" property="og:type"><meta content="https://mcdostone.github.io/articles/first-time-arch-linux/" property="og:url"><meta content="Yann Prono" property="og:title"><meta content="https:/mcdostone.github.io/assets/images/og-image.jpg" property="og:image"><meta content="452" property="og:image:width"><meta content="452" property="og:image:height"><meta content="Just some voodoo bash scripts to install Arch Linux from scratch." property="og:description"><meta content="summary" property="twitter:card"><meta content="https:/mcdostone.github.io/assets/images/og-image.jpg" property="twitter:image"><meta content="Yann Prono" property="twitter:title"><meta content="Just some voodoo bash scripts to install Arch Linux from scratch." property="twitter:description"><meta content="same-origin" name="view-transition"><meta content="Just some voodoo bash scripts to install Arch Linux from scratch." name="description"><link href="/favicon-cbb243b1c9.svg" rel="icon" type="image/svg+xml"><link href="https://mcdostone.github.io/index.xml" rel="alternate" type="application/atom+xml" title="Atom feed"><link href="https://pouet.chapril.org/@yannp" rel="me"></head><body><header class="header"><div class="container"><div><a href="/" class="active">Blog</a> <a href="/recipes">Recipes</a></div></div></header><main class="content-container"><article><header><h1 style="--h: t331">My Arch Linux install</h1><div class="article-metadata"><time class="article-published-on" datetime="2023-05-09">May 9, 2023</time></div></header><p>This article is a guide for myself: I spent hours writing bash scripts to install Arch Linux on my machine from scratch. There is room for improvement but right now I'm happy with this setup.</p><div class="heading"><h2 id="getting-started">Getting started</h2><a href="#getting-started" class="header-anchor" aria-label="Section titled Getting started"><span></span></a></div><p>Create a Arch Linux Installer USB drive:</p><figure class="code-snippet"><span class="language-tag">bash</span><pre><code class="code-block-inner"><span><span class="h04"># Download the ISO</span></span>
<span><span class="h02">curl</span><span> </span><span class="h03">-L</span><span> </span><span class="h00">"<a href='https://geo.mirror.pkgbuild.com/iso/latest/archlinux-x86_64.iso"'>https://geo.mirror.pkgbuild.com/iso/latest/archlinux-x86_64.iso"</a></span><span> </span><span class="h03">-O</span></span>
<span></span>
<span><span class="h04"># Format and copy the iso on the thumb drive</span></span>
<span><span class="h02">wipefs</span><span> </span><span class="h03">--all</span><span> </span><span class="h00">/dev/sdx</span></span>
<span><span class="h02">cp</span><span> </span><span class="h00">./archlinux-x86_64.iso</span><span> </span><span class="h00">/dev/sdx</span></span>
<span></span>
<span><span class="h02">reboot</span></span>
<span></span></code></pre></figure><p>Once Arch Linux is booted:</p><figure class="code-snippet"><span class="language-tag">bash</span><pre><code class="code-block-inner"><span><span class="h04"># Boot a Arch Linux live USB then run the command:</span></span>
<span><span class="h02">mkdir</span><span> </span><span class="h00">scripts</span></span>
<span><span class="h03">cd</span><span> </span><span class="h00">scripts</span></span>
<span></span>
<span><span class="h09">export</span><span class="h10"> SSID</span><span class="h09">=</span><span class="h00">"your-ssid"</span></span>
<span><span class="h09">export</span><span class="h10"> WIFI_PASSPHRASE</span><span class="h09">=</span><span class="h00">"your-wifi-passphrase"</span></span>
<span><span class="h02">iwctl</span><span> </span><span class="h00">station</span><span> </span><span class="h00">wlan0</span><span> </span><span class="h00">connect</span><span> </span><span class="h00">"</span><span class="h10">$SSID</span><span class="h00">"</span><span> </span><span class="h03">--passphrase</span><span> </span><span class="h00">"</span><span class="h10">$WIFI_PASSPHRASE</span><span class="h00">"</span></span>
<span><span class="h02">curl</span><span> </span><span class="h03">-L</span><span> </span><span class="h00"><a href="https://mcdostone.github.io/install-arch-linux">https://mcdostone.github.io/install-arch-linux</a></span><span> </span><span class="h09">|</span><span> </span><span class="h02">bash</span></span>
<span></span>
<span><span class="h04"># Configure the environment variables</span></span>
<span><span class="h02">cat</span><span> </span><span class="h00">.env</span></span>
<span></span>
<span><span class="h04"># And install Arch Linux</span></span>
<span><span class="h02">bash</span><span> </span><span class="h00">init.sh</span></span>
<span></span></code></pre></figure><ul><li><p><a href="./assets/init.sh">init.sh</a>: The entrypoint script.</p></li><li><p><a href="./assets/chroot.sh">chroot.sh</a>: Script executed when <a href="https://wiki.archlinux.org/title/chroot#Using_arch-chroot"><code>arch-chroot</code></a>.</p></li><li><p><a href="./assets/startup.sh">startup.sh</a>: The script to run after the reboot, once Arch Linux is installed.</p></li></ul><div class="heading"><h2 id="partitionning">Partitionning</h2><a href="#partitionning" class="header-anchor" aria-label="Section titled Partitionning"><span></span></a></div><p>I use <a href="https://wiki.archlinux.org/title/Ext4">ext4</a> as a file system. Maybe there are better solutions these days.</p><div class="disk"><div class="partition boot" style="--w: 18%"><div>/dev/sda1</div><span>300MB</span><span>Boot</span></div><div class="partition swap" style="--w: 22%"><div>/dev/sda2</div><span>4GB</span><span>Swap</span></div><div class="partition root" style="--w: 60%"><div>/dev/sda3</div><span>114GB</span><span>Root</span></div></div><div class="heading"><h2 id="terminal-and-shell">Terminal and Shell</h2><a href="#terminal-and-shell" class="header-anchor" aria-label="Section titled Terminal and Shell"><span></span></a></div><p>I have a preference for <a href="https://fishshell.com/">fish Shell</a>, the autosuggestion feature is the only reason I chose it. I use <a href="https://help.gnome.org/users/gnome-terminal/stable/">Gnome terminal</a>.</p><ul><li><p>I use <a href="https://github.com/oh-my-fish/oh-my-fish">oh-my-fish</a> to install themes.</p></li><li><p>I like the colors palette of the <a href="https://github.com/oh-my-fish/theme-agnoster">Agnoster theme</a>.</p></li><li><p>I use the <a href="https://aur.archlinux.org/packages/apple-fonts">SF Pro Display and SF Mono fonts</a>.</p></li></ul><div id="gallery"><a href="/articles/first-time-arch-linux/assets/screenshot-4-a0AVRcPrLh.avif" aria-label="Open the image" data-pswp-height="1080" data-pswp-width="1920" style="--w: 1920px"><picture style="--pc: #8d7f79"><source sizes="1920px" srcset="/articles/first-time-arch-linux/assets/screenshot-4-a0AVRcPrLh.avif 1920w" type="image/avif"><img alt="A screenshot of what my DE looks like" decoding="async" height="1080" loading="lazy" src="/articles/first-time-arch-linux/assets/screenshot-4-a0AVRcPrLh.jpeg" width="1920"></picture></a></div><div class="heading"><h2 id="desktop-environment">Desktop environment</h2><a href="#desktop-environment" class="header-anchor" aria-label="Section titled Desktop environment"><span></span></a></div><p>I use Gnome 44 with a bunch of extensions. The theme is <a href="https://github.com/vinceliuice/Colloid-gtk-theme">Colloid-gtk</a>, the icons pack is <a href="https://github.com/vinceliuice/WhiteSur-icon-theme.git">WhiteSur-icon</a>.</p><div class="table-responsive"><table><thead><tr><th>Extension</th><th style="text-align:right">Description</th></tr></thead><tbody><tr><td><a href="https://extensions.gnome.org/extension/19/user-themes/">user-theme@gnome-shell-extensions.gcampax.github.com</a></td><td style="text-align:right">Should be in GNOME</td></tr><tr><td><a href="https://extensions.gnome.org/extension/3843/just-perfection/">just-perfection-desktop@just-perfection</a></td><td style="text-align:right">Add blur in GNOME shell</td></tr><tr><td><a href="https://extensions.gnome.org/extension/5489/search-light/">search-light@icedman.github.com</a></td><td style="text-align:right">Take the apps search out of overview</td></tr><tr><td><a href="https://extensions.gnome.org/extension/5237/rounded-window-corners/">rounded-window-corners@yilozt</a></td><td style="text-align:right">Add rounded corners for all windows</td></tr><tr><td><a href="https://extensions.gnome.org/extension/2236/night-theme-switcher/">nightthemeswitcher@romainvigier.fr</a></td><td style="text-align:right">Toggle between light and dark theme automatically</td></tr><tr><td><a href="https://extensions.gnome.org/extension/3193/blur-my-shell/">blur-my-shell@aunetx</a></td><td style="text-align:right">Add blur in GNOME shell</td></tr><tr><td><a href="https://extensions.gnome.org/extension/307/dash-to-dock/">dash-to-dock@micxgx.gmail.com</a></td><td style="text-align:right">A dock for the Gnome Shell</td></tr><tr><td><a href="https://extensions.gnome.org/extension/2182/noannoyance/">noannoyance@daase.net</a></td><td style="text-align:right">Remove the 'Window is ready' notification</td></tr><tr><td><a href="https://extensions.gnome.org/extension/2741/remove-alttab-delay-v2/">remove-alt-tab-delay@daase.net</a></td><td style="text-align:right">Remove the 0.15 second popup delay in switcher pop-ups</td></tr><tr><td><a href="https://extensions.gnome.org/extension/1007/window-is-ready-notification-remover/">windowIsReady_Remover@nunofarruca@gmail.com</a></td><td style="text-align:right">Removes window is ready Notification</td></tr></tbody></table></div><div class="heading"><h2 id="applications">Applications</h2><a href="#applications" class="header-anchor" aria-label="Section titled Applications"><span></span></a></div><p>Most of the applications below are installed with <a href="https://flatpak.org/">flatpak</a>.</p><ul class="applications"><li><a href="https://www.videolan.org/vlc/" class="application"><img alt="Icon of VLC" decoding="async" height="770" loading="lazy" src="/articles/first-time-arch-linux/assets/icon-vlc-g8j88wWQG2.svg" width="680" style="--pc: transparent"></a></li><li><a href="https://www.mozilla.org/en-US/firefox/developer/" class="application"><img alt="Icon of Firefox developer edition" decoding="async" height="80" loading="lazy" src="/articles/first-time-arch-linux/assets/icon-firefox-dev-aShlKijdyv.svg" width="78" style="--pc: transparent"></a></li><li><a href="https://fishshell.com/" class="application"><picture style="--pc: transparent"><source sizes="600px" srcset="/articles/first-time-arch-linux/assets/icon-fish-WEWwXTbTcr.avif 600w" type="image/avif"><img alt="Icon of Fish shell" decoding="async" height="600" loading="lazy" src="/articles/first-time-arch-linux/assets/icon-fish-WEWwXTbTcr.jpeg" width="600"></picture></a></li><li><a href="https://spotify.com/" class="application"><img alt="Icon of Spotify" decoding="async" height="168" loading="lazy" src="/articles/first-time-arch-linux/assets/icon-spotify-502glUtj_r.svg" width="168" style="--pc: transparent"></a></li><li><a href="https://signal.org/" class="application"><img alt="Icon of Signal" decoding="async" height="1024" loading="lazy" src="/articles/first-time-arch-linux/assets/icon-signal-IsH0xgMole.svg" width="1024" style="--pc: transparent"></a></li><li><a href="https://discord.com" class="application"><img alt="Icon of Discord" decoding="async" height="96" loading="lazy" src="/articles/first-time-arch-linux/assets/icon-discord-gK0WT__PdV.svg" width="127" style="--pc: transparent"></a></li><li><a href="https://www.jetbrains.com/idea/" class="application"><img alt="Icon of intellij IDEA" decoding="async" height="70" loading="lazy" src="/articles/first-time-arch-linux/assets/icon-intellij-sUuXNNhhUA.svg" width="70" style="--pc: transparent"></a></li><li><a href="https://code.visualstudio.com/" class="application"><img alt="Icon of VScode" decoding="async" height="100" loading="lazy" src="/articles/first-time-arch-linux/assets/icon-vscode-3joVNRVF93.svg" width="100" style="--pc: transparent"></a></li></ul><div class="heading"><h2 id="screenshots">Screenshots</h2><a href="#screenshots" class="header-anchor" aria-label="Section titled Screenshots"><span></span></a></div><div id="gallery"><a href="/articles/first-time-arch-linux/assets/screenshot-1-nfPrC8CqYa.avif" aria-label="Open the image" data-pswp-height="1080" data-pswp-width="1920" style="--w: 1920px"><picture style="--pc: #c1c0c1"><source sizes="1920px" srcset="/articles/first-time-arch-linux/assets/screenshot-1-nfPrC8CqYa.avif 1920w" type="image/avif"><img alt="A screenshot of what my DE looks like" decoding="async" height="1080" loading="lazy" src="/articles/first-time-arch-linux/assets/screenshot-1-nfPrC8CqYa.jpeg" width="1920"></picture></a><a href="/articles/first-time-arch-linux/assets/screenshot-2-B1bxNGD9_x.avif" aria-label="Open the image" data-pswp-height="1080" data-pswp-width="1920" style="--w: 1920px"><picture style="--pc: #756761"><source sizes="1920px" srcset="/articles/first-time-arch-linux/assets/screenshot-2-B1bxNGD9_x.avif 1920w" type="image/avif"><img alt="A screenshot of what my DE looks like" decoding="async" height="1080" loading="lazy" src="/articles/first-time-arch-linux/assets/screenshot-2-B1bxNGD9_x.jpeg" width="1920"></picture></a><a href="/articles/first-time-arch-linux/assets/screenshot-3-znM39XjQk9.avif" aria-label="Open the image" data-pswp-height="562" data-pswp-width="403" style="--w: 403px"><picture style="--pc: #e7e5e7"><source sizes="403px" srcset="/articles/first-time-arch-linux/assets/screenshot-3-znM39XjQk9.avif 403w" type="image/avif"><img alt="A screenshot of what my DE looks like" decoding="async" height="562" loading="lazy" src="/articles/first-time-arch-linux/assets/screenshot-3-znM39XjQk9.jpeg" width="403"></picture></a></div><div class="table-responsive"><table><thead><tr><th></th><th style="text-align:right"></th></tr></thead><tbody><tr><td>Hardware</td><td style="text-align:right">ASUSTeK COMPUTER INC</td></tr><tr><td>Memory</td><td style="text-align:right">8.0 GiB</td></tr><tr><td>Processor</td><td style="text-align:right">Intel® Core™ i7-6700HQ × 8</td></tr><tr><td>Graphics</td><td style="text-align:right">NVIDIA GeForce GTX 1070</td></tr><tr><td>Gnome Version</td><td style="text-align:right">44.1</td></tr></tbody></table></div><p>Next step is to compile the Linux Kernel with a configuration dedicated to my laptop.</p></article></main><footer class="container"><div class="social-networks"><a href="/index.xml" aria-label="RSS feed"><svg class="icon rss"><use href="/assets/images/icons-8b3b17009c.svg#rss"></use></svg> </a><a href="https://github.com/mcdostone" aria-label="github profile"><svg class="icon github"><use href="/assets/images/icons-8b3b17009c.svg#github"></use></svg> </a><a href="https://pouet.chapril.org/@yannp" aria-label="Mastodon"><svg class="icon mastodon"><use href="/assets/images/icons-8b3b17009c.svg#mastodon"></use></svg> </a><a href="https://www.root-me.org/Mcdostone" aria-label="Root-me"><svg class="icon root-me"><use href="/assets/images/icons-8b3b17009c.svg#root-me"></use></svg></a><div class="theme-selector"><button aria-label="Open a dialog box to choose a theme" type="button" aria-haspopup="menu"><svg class="icon theme"><use href="/assets/images/icons-8b3b17009c.svg#theme-light"></use></svg></button><dialog><form method="dialog"><button aria-label="switch to OS theme" type="button" value="" aria-pressed="true"><svg><use href="/assets/images/icons-8b3b17009c.svg#theme-system"></use></svg> OS Default</button> <button aria-label="switch to light theme" type="button" value="light"><svg><use href="/assets/images/icons-8b3b17009c.svg#theme-light"></use></svg> Light</button> <button aria-label="switch to dark theme" type="button" value="dark"><svg><use href="/assets/images/icons-8b3b17009c.svg#theme-dark"></use></svg> Dark</button></form></dialog></div></div></footer></body></html>