<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta content="width=device-width,initial-scale=1" name="viewport"><meta content="Yann Prono" property="og:site_name"><meta content="en-us" property="og:locale"><meta content="article" property="og:type"><meta content="https://mcdostone.github.io/articles/first-time-arch-linux/" property="og:url"><meta content="Yann Prono" property="og:title"><meta content="https:/mcdostone.github.io/assets/images/og-image.jpg" property="og:image"><meta content="452" property="og:image:width"><meta content="452" property="og:image:height"><meta content="Just some voodoo bash scripts to install Arch Linux from scratch." property="og:description"><meta content="summary" property="twitter:card"><meta content="https:/mcdostone.github.io/assets/images/og-image.jpg" property="twitter:image"><meta content="Yann Prono" property="twitter:title"><meta content="Just some voodoo bash scripts to install Arch Linux from scratch." property="twitter:description"><meta content="Just some voodoo bash scripts to install Arch Linux from scratch." name="description"><title>My Arch Linux install | Yann Prono</title><script src="/assets/js/dark-42666931.js" type="module"></script><link href="/assets/css/style-49af096c.css" rel="stylesheet"><link href="/favicon-cbb243b1c9.svg" rel="icon" type="image/svg+xml"><link href="https://mcdostone.github.io/index.xml" rel="alternate" type="application/atom+xml" title="Atom feed"><link href="https://pouet.chapril.org/@yannp" rel="me"></head><body><header class="header"><div class="container"><div><a href="/" class="active">Blog</a> <a href="/recipes">Recipes</a></div></div></header><main class="content-container"><article><header><h1>My Arch Linux install</h1><div class="article-metadata"><time class="article-published-on" datetime="2023-05-09">May 9, 2023</time></div></header><p>This article is a guide for myself: I spent hours writing bash scripts to install Arch Linux on my machine from scratch. There is room for improvement but right now I'm happy with this setup. Next step is to compile the Linux Kernel with a configuration dedicated to my laptop:</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>Hardware</td><td>ASUSTeK COMPUTER INC</td></tr><tr><td>Memory</td><td>8.0 GiB</td></tr><tr><td>Processor</td><td>Intel® Core™ i7-6700HQ × 8</td></tr><tr><td>Graphics</td><td>NVIDIA GeForce GTX 1070</td></tr><tr><td>Gnome Version</td><td>43.4</td></tr></tbody></table><div class="heading"><h2 id="1.-creating-a-arch-linux-installer-usb-drive">1. Creating a Arch Linux Installer USB drive</h2><a href="#1.-creating-a-arch-linux-installer-usb-drive" aria-label="Section titled 1. Creating a Arch Linux Installer USB drive" class="header-anchor"><span></span></a></div><figure class="code-snippet"><span class="language-tag">bash</span><pre><code class="code-block-inner"><span><span class="h04"># Retrieve the latest version of Arch Linux</span></span>
<span><span class="h10">version</span><span class="h09">=</span><span class="h00">$(</span><span class="h02">curl</span><span> </span><span class="h03">-L</span><span class="h00"> <a href="https://archlinux.org/download/">https://archlinux.org/download/</a> </span><span class="h09">|</span><span> </span><span class="h02">grep</span><span class="h00"> 'Current Release' </span><span class="h09">|</span><span> </span><span class="h02">grep</span><span> </span><span class="h03">-oE</span><span class="h00"> '[0-9]+.[0-9]+.[0-9]+'</span></span>
<span></span>
<span><span class="h04"># Download the ISO</span></span>
<span><span class="h02">curl</span><span> </span><span class="h03">-L</span><span class="h00"> "<a href="https://geo.mirror.pkgbuild.com/iso/">https://geo.mirror.pkgbuild.com/iso/</a></span><span class="h10">$version</span><span class="h00">/archlinux-x86_64.iso" </span><span class="h03">--output</span><span class="h00"> archlinux.iso</span></span>
<span></span>
<span><span class="h04"># Format and copy the iso on the thumb drive</span></span>
<span><span class="h02">wipefs</span><span> </span><span class="h03">--all</span><span class="h00"> /dev/sdx</span></span>
<span><span class="h02">cp</span><span class="h00"> ./archlinux.iso /dev/sdx</span></span>
<span></span>
<span><span class="h02">reboot</span></span>
<span></span></code></pre></figure><div class="heading"><h2 id="2.-once-arch-linux-is-booted">2. Once Arch Linux is booted</h2><a href="#2.-once-arch-linux-is-booted" aria-label="Section titled 2. Once Arch Linux is booted" class="header-anchor"><span></span></a></div><figure class="code-snippet"><span class="language-tag">bash</span><pre><code class="code-block-inner"><span><span class="h04"># Boot a Arch Linux live USB then run the command:</span></span>
<span><span class="h02">mkdir</span><span> </span><span class="h00">scripts</span></span>
<span><span class="h03">cd</span><span> </span><span class="h00">scripts</span></span>
<span></span>
<span><span class="h02">curl</span><span> </span><span class="h03">-L</span><span> </span><span class="h00"><a href="https://mcdostone.github.io/install-arch-linux">https://mcdostone.github.io/install-arch-linux</a></span><span> </span><span class="h09">|</span><span> </span><span class="h02">bash</span></span>
<span></span>
<span><span class="h04"># Configure the environment variables</span></span>
<span><span class="h02">cat</span><span> </span><span class="h00">.env</span></span>
<span></span>
<span><span class="h04"># And install Arch Linux</span></span>
<span><span class="h02">bash</span><span> </span><span class="h00">init.sh</span></span>
<span></span></code></pre></figure><ul><li><p><a href="./assets/init.sh">init.sh</a>: The entrypoint script.</p></li><li><p><a href="./assets/chroot.sh">chroot.sh</a>: Script executed when <a href="https://wiki.archlinux.org/title/chroot#Using_arch-chroot"><code>arch-chroot</code></a>.</p></li><li><p><a href="./assets/startup.sh">startup.sh</a>: The script to run after the reboot, once Arch Linux is installed.</p></li></ul></article></main><footer class="container"><div class="social-networks"><a href="/index.xml" aria-label="RSS feed"><svg class="icon rss"><use href="/assets/images/icons-8b3b17009c.svg#rss"></use></svg> </a><a href="https://github.com/mcdostone" aria-label="github profile"><svg class="icon github"><use href="/assets/images/icons-8b3b17009c.svg#github"></use></svg> </a><a href="https://pouet.chapril.org/@yannp" aria-label="Mastodon"><svg class="icon mastodon"><use href="/assets/images/icons-8b3b17009c.svg#mastodon"></use></svg> </a><a href="https://www.root-me.org/Mcdostone" aria-label="Root-me"><svg class="icon root-me"><use href="/assets/images/icons-8b3b17009c.svg#root-me"></use></svg></a><div class="theme-selector"><button aria-label="Open a dialog box to choose a theme" type="button" aria-haspopup="menu"><svg class="icon theme"><use href="/assets/images/icons-8b3b17009c.svg#theme-light"></use></svg></button><dialog><form method="dialog"><button aria-label="switch to OS theme" type="button" value="" aria-pressed="true"><svg><use href="/assets/images/icons-8b3b17009c.svg#theme-system"></use></svg> OS Default</button> <button aria-label="switch to light theme" type="button" value="light"><svg><use href="/assets/images/icons-8b3b17009c.svg#theme-light"></use></svg> Light</button> <button aria-label="switch to dark theme" type="button" value="dark"><svg><use href="/assets/images/icons-8b3b17009c.svg#theme-dark"></use></svg> Dark</button></form></dialog></div></div></footer></body></html>